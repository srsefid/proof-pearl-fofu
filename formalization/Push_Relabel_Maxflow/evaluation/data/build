#!/bin/bash
gcc data-gen.c -o data-gen
gcc data-cnv.c -o data-cnv

cd generators
cd ac-net
./build
cd ..

cd washington
./build
cd ..

cd gen-rmf
./build
cd ..
cd ..

mkdir -p samples
cd samples

test -f g-100-D.txt || ../data-gen 100 .25 D 1.4

for ((i=1000;$i<=1450;i+=50)); do
  test -f g-$i-D.txt || ../data-gen $i .25 D 1.4
done

for ((i=1000;$i<=5500;i+=500)); do
  test -f g-$i-S.txt || ../data-gen $i .02 S 1
done

for ((i=1000;$i<=1450;i+=50)); do
	test -f g-$i-ACNET.txt || (../generators/ac-net/gen $i $(( ( RANDOM % 999 )  + 1 )) | ../data-cnv g-$i-ACNET.txt)
done

for ((i=1000;$i<=5500;i+=500)); do
	test -f g-3x$i-WASH.txt || (../generators/washington/gen 10 $i 0 0 0 | ../data-cnv g-3x$i-WASH.txt)
done

for ((i=1000;$i<=1900;i+=100)); do
	test -f g-16x$i-GENRMF.txt || (../generators/gen-rmf/gen -a 4 -b $i -c1 0 -c2 9999 | ../data-cnv g-16x$i-GENRMF.txt)
done

cd ..
